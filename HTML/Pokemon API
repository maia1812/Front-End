<!-- sinaliza que o arquivo será programado em HTML -->
<!DOCTYPE html>
<!-- diz a língua que será usada no HTML -->
<html lang="pt-br">
    <!-- cabeçalho ( no cabeçalho informamos qual tipo de arquivo a página pode erceber, identificação do site, -->
    <!-- no cabeçalho também é feito a autenticação e título da página-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora</title>
    <style>
        body {
            font-family:'Arial';
            background-color: lightblue;
            color: white;
            display: flex;
            justify-content: center;
            text-align: center;
        }
        .base {
            background-color: rgb(61, 117, 136);
            width: 450px;
            height: 300px;
            border-radius: 10px;
        }

        button {
            color: white;
            background-color: green;
            border: 1px solid green;
            width: fit-content;
            padding: 5px;
            border-radius: 5px;
            text-decoration: none;
        }
    </style>
</head>
<!-- corpo da página (no body é onde vão as informações que aparecem para o usuário) -->
<body>
    <div class="base">
        <h1>Calculadora Básica</h1>
    <!-- cria um formulário (e isto é útil para a organização do programador) -->
        <form>
            <!-- título da página tamanho (1, 2, 3, 4, 5 ou 6) -->
        <label for="numero1">Informe o 1º número</label> <br>
        <!-- é o texto que botamos em tela e está reçacionado a um INPUT -->
        <input type="text" id="numero1" > 
        <!-- input é o local que botamos em tela direcionado para o usuário digitar -->

        <br> <br>

        <form >
        <label for="numero2">Informe o 2º número</label> <br>   
        <input type="text" id="numero2">

        <br> <br>

        <!-- Cria um botão em tela -->
        <button type="button" onclick="calcular('somar')">somar</button>
        <button type="button" onclick="calcular('subtrair')">substrair</button>
        <button type="button" onclick="calcular('multiplicacao')">multiplicar</button>
        <button type="button" onclick="calcular('dividir')">dividir</button>

        <p><b>Resultado:</b></p>
        <div id="resultado"></div>
        <div id="pokemon"></div>
        <label for="numero2">Informe o Pokemon</label> <br>   
        <input type="text" id="pokemon">
        <button type="button" onclick="inserirPokemon()">Inserir</button>
        <div id="pokemon"></div>
    

    </form>
    </div>

    <!-- Sinalizar que vou usar o javascript -->

    <script>
        function inserirPokemon() {
            var pokemon = document.getElementById('pokemon').value
            // parte do código que faz a chamada da API
        fetch('https://pokeapi.co/api/v2/pokemon/'+pokemon)
        // Diz que a resposta vai ser retornada em formato JSON
        .then (res => res.json())
        // local onde posso manipular a resposta da API
        .then (data => {
            // data é a variável que está guardando os dados da API
            console.log(data)
            // console.log apresenta esses DADOS no console (f12)
            // data é a variável que armazena os dados da API, e o .name é a informação
            // que estava dentro do DATA (retornado pela API)
            document.getElementById('pokemon').innerHTML = 'nome: '+ data.name;
            // botando imagem em tela falando que o link da iamgem é o:
            // data.sprites.front_default retornado pela API,

            document.getElementById('pokemon').innerHTML += 
            '<br><img src="'+ data.sprites.front_default+ '" width="150">';
        })
        }
        function calcular(operacao) {
            // pegar os valores dos inputs
            // parseFloat transforma um valor em um número com casa decimal
            var numero1= parseFloat(document.getElementById('numero1').value);
            var numero2= parseFloat(document.getElementById('numero2').value);

            // escolha caso
            switch(operacao) {
                case 'somar':
                  resultado = numero1 + numero2;
                break

                case 'subtrair':
                  resultado = numero1 - numero2;
                break

                case 'multiplicacao':
                  resultado = numero1 * numero2;
                break

                case 'dividir':
                    if(numero2 != 0) {
                        resultado = numero1 / numero2;
                    } else {
                        resultado = 'Impossível de dividir por zero'
                    }
                break
            }
            document.getElementById('resultado').innerHTML = resultado;

           fetch('https://pokeapi.co/api/v2/pokemon/'+resultado)
        // Diz que a resposta vai ser retornada em formato JSON
        .then (res => res.json())
        // local onde posso manipular a resposta da API
        // quando a API dá certo
        .then (data => {
            // data é a variável que está guardando os dados da API
            console.log(data)
            // console.log apresenta esses DADOS no console (f12)
            // data é a variável que armazena os dados da API, e o .name é a informação
            // que estava dentro do DATA (retornado pela API)
            document.getElementById('pokemon').innerHTML = 'nome: '+ data.name;
            // botando imagem em tela falando que o link da iamgem é o:
            // data.sprites.front_default retornado pela API,

            document.getElementById('pokemon').innerHTML += 
            '<br><img src="'+ data.sprites.front_default+ '" width="150">';
        })

        .catch(error => { // quando a API dá errado
            chamaGatinho();
            
        })

        .finally (() => {
            console.log('Processamenti Finalizado')
        })

        function chamaGatinho() {
            fetch('https://api.thecatapi.com/v1/images/search')
        .then (res => res.json())
        .then (data => {
            console.log(data)

            document.getElementById('pokemon').innerHTML = 
            '<br><img src="'+data[0].url+ '" width="150">';
        })

        
        }
    }

        
    </script>

</body>
</html>
